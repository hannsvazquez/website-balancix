---
import LanguageCard from '../components/LanguageCard.astro';
---

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Choose Your Language | Balancix</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="/dist/icon-balancix.svg" />
    <!-- Google Tag Manager -->
    <script>
      // @ts-expect-error - Google Tag Manager script
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      // @ts-expect-error - Google Tag Manager script
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      // @ts-expect-error - Google Tag Manager script
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5BT2T7DZ');
    </script>
    <!-- End Google Tag Manager -->
    <script>
      (function() {
        // Get the browser language (first two characters)
        const userLang = (navigator.language || '').toLowerCase().slice(0, 2);
        
        // Define supported languages
        const supportedLangs = ['es', 'en'];
        
        // Redirect only if language is supported
        if (supportedLangs.includes(userLang)) {
          window.location.replace(`/${userLang}/`);
        }
        // Otherwise, the language selection page will be shown
      })();
    </script>
  </head>
  <body class="bg-background">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5BT2T7DZ"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    <LanguageCard 
      title="Welcome to Balancix"
      description="We are an international startup from day 0, that's why we create an English and Spanish version."
      teamLabel="Team Balancix"
    />
  </body>
</html>
